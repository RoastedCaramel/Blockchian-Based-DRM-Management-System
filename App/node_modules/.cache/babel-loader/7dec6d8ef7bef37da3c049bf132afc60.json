{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Vendrell\\\\Desktop\\\\Project_v16\\\\App\\\\src\\\\Components\\\\CommercialEntity.js\";\nimport Web3 from 'web3';\nimport React from \"react\";\nimport { COLORS } from \"./Colors\";\nimport SongCard from \"./SongCard\";\nimport Loader from \"react-loader-spinner\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faStore, faUser, faBriefcase } from '@fortawesome/free-solid-svg-icons';\nimport { faHive } from '@fortawesome/free-brands-svg-icons';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass Library extends React.Component {\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row justify-content-center mt-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col\",\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-center\",\n            children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n              icon: faUser\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 17,\n              columnNumber: 41\n            }, this), \" Library\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 17,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 16,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 15,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row justify-content-center mt-2\",\n        style: {\n          maxHeight: '400px',\n          overflowY: 'auto'\n        },\n        children: this.props.library.map((item, i) => /*#__PURE__*/_jsxDEV(SongCard, {\n          type: \"audience\",\n          name: item.name,\n          artist: item.artist,\n          genre: item.genre,\n          hash: item.hash,\n          songID: item.songID,\n          artist_names: item.artist_name,\n          publisherName: item.publisher_name\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 22,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 7\n    }, this);\n  }\n}\nclass Store extends React.Component {\n  render() {\n    const filteredStoreSongs = this.props.store.filter(song => song.name.toLowerCase().includes(this.props.searchTerm.toLowerCase()));\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row justify-content-center mt-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col\",\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-center\",\n            children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n              icon: faStore\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 41\n            }, this), \" Store\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row justify-content-center mt-2\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-6\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            placeholder: \"Search songs...\",\n            value: this.props.searchTerm,\n            onChange: e => this.props.setSearchTerm(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row justify-content-center mt-2\",\n        style: {\n          maxHeight: '400px',\n          overflowY: 'auto'\n        },\n        children: filteredStoreSongs.length > 0 ? filteredStoreSongs.map((item, i) => /*#__PURE__*/_jsxDEV(SongCard, {\n          contract: this.props.contract,\n          ipfs: this.props.ipfs,\n          account: this.props.account,\n          type: \"shop\",\n          name: item.name,\n          artist: item.artist,\n          genre: item.genre,\n          cost: item.cost,\n          hash: item.hash,\n          songID: item.songID,\n          artist_names: item.artist_name,\n          publisherName: item.publisher_name\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 15\n        }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-center\",\n          children: \"No songs available to purchase.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this);\n  }\n}\nclass CommercialEntity extends React.Component {\n  constructor(props) {\n    super(props);\n    this.web3 = new Web3(Web3.givenProvider || \"http://localhost:7545\");\n    this.state = {\n      name: \"\",\n      commercialID: \"\",\n      store: [],\n      library: [],\n      songsMapping: {},\n      currentPage: 'library',\n      searchTerm: \"\"\n    };\n  }\n  componentDidMount() {\n    this.loadStore().then(() => {\n      console.log(\"Loaded Store\");\n      this.loadCommercialDetails().then(() => {\n        console.log(\"Loaded Commercial's Details\");\n        this.loadSongDetails().then(() => {\n          console.log(\"Loaded Songs\");\n        });\n      });\n    });\n  }\n  async loadStore() {\n    try {\n      const contractInstance = await this.props.contract.deployed();\n      console.log(\"Personal Contract Instance: \", this.props.contract);\n      const count = await contractInstance.getNumSongs({\n        from: this.props.account\n      });\n      const totalSongs = parseInt(count.toString()) + 1;\n      console.log(\"Total songs:\", totalSongs);\n      let mapping = {};\n      for (let i = 1; i <= totalSongs; i++) {\n        mapping[i] = 0;\n      }\n      console.log(mapping);\n      this.setState({\n        songsMapping: mapping\n      });\n    } catch (error) {\n      console.error(\"Error loading store:\", error);\n    }\n  }\n  async getArtistName(artistID) {\n    try {\n      const contractInstance = await this.props.contract.deployed();\n      // console.log('getArtistName call');\n\n      // Correctly pass the artistID to the smart contract function\n      const getArtistName = await contractInstance.getArtistNameByID(artistID, {\n        from: this.props.account\n      });\n      console.log('artistID is\\n', artistID);\n      console.log('getArtistName', getArtistName);\n      return getArtistName; // Assuming the function returns the artistName directly\n    } catch (error) {\n      console.error('getArtistName Error:', error);\n      return ''; // Return an empty string or handle the error as needed\n    }\n  }\n  async getPublisherName(publisherID) {\n    try {\n      const contractInstance = await this.props.contract.deployed();\n      // console.log('getPublisherName call');\n      // Correctly pass the publisherID to the smart contract function\n      const getPublisherName = await contractInstance.getPublisherNameByID(publisherID, {\n        from: this.props.account\n      });\n      console.log('publisherID is\\n', publisherID);\n      console.log('getPublisherName', getPublisherName);\n      return getPublisherName; // Assuming the function returns the publisherName directly\n    } catch (error) {\n      console.error('getPublisherName Error:', error);\n      return ''; // Return an empty string or handle the error as needed\n    }\n  }\n  async loadCommercialDetails() {\n    try {\n      const contractInstance = await this.props.contract.deployed();\n      const CommercialDetails = await contractInstance.getCommercialDetails({\n        from: this.props.account\n      });\n      console.log(\"personal Details\", CommercialDetails);\n      let mapping = this.state.songsMapping;\n      console.log(CommercialDetails[3].length);\n      for (let i = 0; i < CommercialDetails[3].length; i++) {\n        mapping[parseInt(CommercialDetails[3][i].toString())] = 1;\n      }\n      this.setState({\n        name: CommercialDetails[2].toString(),\n        commercialID: CommercialDetails[0].toString(),\n        songsMapping: mapping\n      });\n    } catch (error) {\n      console.error(\"Error loading audience details:\", error);\n    }\n  }\n  async loadSongDetails() {\n    try {\n      const contractInstance = await this.props.contract.deployed();\n      let n = Object.keys(this.state.songsMapping).length;\n      let newSongs = [];\n      let purchasedSongs = [];\n      for (let i = 1; i <= n; i++) {\n        let songDetails = await contractInstance.getSongDetails(i, {\n          from: this.props.account\n        });\n        console.log(\"Song Details:\", songDetails); // Debugging line\n        // Extract the artist ID from songDetails[8] and convert it to a string if necessary\n        let artistIDString = songDetails[8].toString();\n        console.log('artistIDString\\n', artistIDString);\n        let artistIDArray = artistIDString.split(',').map(Number);\n        console.log('artistIDArray\\n', artistIDArray, '\\n', typeof artistIDArray);\n        let artistNames = [];\n        for (let i = 0; i < artistIDArray.length; i++) {\n          console.log('Artist ID:', artistIDArray[i]);\n          let artistName = await contractInstance.getArtistNameByID(artistIDArray[i], {\n            from: this.props.account\n          });\n          console.log('Artist name fetched:', artistName);\n          artistNames.push(artistName);\n        }\n        // Extract the publisher ID from songDetails[1] and convert it to a string if necessary\n        let publisherID = songDetails[1].toString();\n        console.log(\"PublisherID:\\n\", songDetails[1].toString());\n        // Call the getPublisherNameByID function to get the publisher name\n        let publisherName = await contractInstance.getPublisherNameByID(publisherID, {\n          from: this.props.account\n        });\n        console.log('the publisherName is: \\n', publisherName);\n        if (this.state.songsMapping[i] === 1) {\n          purchasedSongs.push({\n            'name': songDetails[2].toString(),\n            'artist': songDetails[1].toString(),\n            'genre': songDetails[7].toString(),\n            'hash': songDetails[6].toString(),\n            'cost': songDetails[4].toString(),\n            'songID': songDetails[0].toString(),\n            'artist_name': artistNames,\n            'publisher_name': publisherName\n          });\n        } else {\n          newSongs.push({\n            'name': songDetails[2].toString(),\n            'artist': songDetails[1].toString(),\n            'genre': songDetails[7].toString(),\n            'hash': songDetails[6].toString(),\n            'cost': songDetails[4].toString(),\n            'songID': songDetails[0].toString(),\n            'artist_name': artistNames,\n            'publisher_name': publisherName\n          });\n        }\n      }\n      this.setState({\n        library: purchasedSongs,\n        store: newSongs\n      });\n    } catch (error) {\n      console.error(\"Error loading song details:\", error);\n    }\n  }\n  render() {\n    const {\n      currentPage\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container-fluid\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row full-height\",\n        style: {\n          height: '100vh'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-2 bg-dark\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-primary mt-5\",\n            children: /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"text-white\",\n              children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                icon: faHive\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 17\n              }, this), \" Blockus\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row mt-5 px 5\",\n            style: {\n              marginLeft: '5px',\n              marginRight: '5px'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-primary mr-2\",\n              onClick: () => this.setState({\n                currentPage: 'library'\n              }),\n              children: \"Library\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row mt-2\",\n            style: {\n              marginLeft: '5px',\n              marginRight: '5px'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-primary\",\n              onClick: () => this.setState({\n                currentPage: 'store'\n              }),\n              children: \"Store\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-10\",\n          children: this.state.personalID === \"\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row justify-content-center mt-4\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col\",\n              children: /*#__PURE__*/_jsxDEV(Loader, {\n                type: \"Bars\",\n                color: COLORS.black\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 270,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row justify-content-center mt-4\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col\",\n                children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                  className: \"text-center\",\n                  children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                    icon: faBriefcase\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 277,\n                    columnNumber: 49\n                  }, this), \" \", this.state.name]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 277,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-center\",\n                  children: [\"Commercial ID: \", this.state.commercialID]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 278,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 276,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 17\n            }, this), currentPage === 'library' ? /*#__PURE__*/_jsxDEV(Library, {\n              library: this.state.library\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(Store, {\n              store: this.state.store,\n              searchTerm: this.state.searchTerm,\n              setSearchTerm: searchTerm => this.setState({\n                searchTerm\n              }),\n              contract: this.props.contract,\n              ipfs: this.props.ipfs,\n              account: this.props.account\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 7\n    }, this);\n  }\n}\nconst styles = {\n  main: {\n    padding: \"3%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    height: \"110vh\",\n    gap: \"5%\",\n    background: COLORS.white\n  },\n  info: {\n    marginBottom: \"20px\",\n    textAlign: \"center\"\n  },\n  library: {\n    width: \"90%\",\n    padding: \"25px\",\n    borderRadius: \"30px\",\n    border: \"3px solid\",\n    overflow: \"auto\",\n    gap: \"10px\",\n    boxShadow: \"2px 5px 2px #191919\",\n    borderColor: COLORS.black,\n    backgroundColor: COLORS.white\n  },\n  store: {\n    width: \"90%\",\n    marginTop: \"20px\",\n    padding: \"25px\",\n    borderRadius: \"30px\",\n    border: \"3px solid\",\n    overflow: \"auto\",\n    gap: \"10px\",\n    boxShadow: \"2px 5px 2px #191919\",\n    borderColor: COLORS.black,\n    backgroundColor: COLORS.white\n  },\n  searchInput: {\n    width: \"100%\",\n    padding: \"10px\",\n    marginBottom: \"10px\",\n    borderRadius: \"5px\",\n    border: \"1px solid #ccc\"\n  }\n};\nexport default CommercialEntity;","map":{"version":3,"names":["Web3","React","COLORS","SongCard","Loader","FontAwesomeIcon","faStore","faUser","faBriefcase","faHive","jsxDEV","_jsxDEV","Library","Component","render","className","children","icon","fileName","_jsxFileName","lineNumber","columnNumber","style","maxHeight","overflowY","props","library","map","item","i","type","name","artist","genre","hash","songID","artist_names","artist_name","publisherName","publisher_name","Store","filteredStoreSongs","store","filter","song","toLowerCase","includes","searchTerm","placeholder","value","onChange","e","setSearchTerm","target","length","contract","ipfs","account","cost","CommercialEntity","constructor","web3","givenProvider","state","commercialID","songsMapping","currentPage","componentDidMount","loadStore","then","console","log","loadCommercialDetails","loadSongDetails","contractInstance","deployed","count","getNumSongs","from","totalSongs","parseInt","toString","mapping","setState","error","getArtistName","artistID","getArtistNameByID","getPublisherName","publisherID","getPublisherNameByID","CommercialDetails","getCommercialDetails","n","Object","keys","newSongs","purchasedSongs","songDetails","getSongDetails","artistIDString","artistIDArray","split","Number","artistNames","artistName","push","height","marginLeft","marginRight","onClick","personalID","color","black","styles","main","padding","display","flexDirection","justifyContent","alignItems","gap","background","white","info","marginBottom","textAlign","width","borderRadius","border","overflow","boxShadow","borderColor","backgroundColor","marginTop","searchInput"],"sources":["C:/Users/Vendrell/Desktop/Project_v16/App/src/Components/CommercialEntity.js"],"sourcesContent":["import Web3 from 'web3'\r\nimport React from \"react\"\r\n\r\nimport { COLORS } from \"./Colors\"\r\nimport SongCard from \"./SongCard\"\r\nimport Loader from \"react-loader-spinner\"\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport {  faStore, faUser, faBriefcase } from '@fortawesome/free-solid-svg-icons'\r\nimport { faHive } from '@fortawesome/free-brands-svg-icons'\r\n\r\nclass Library extends React.Component {\r\n  render() {\r\n    return (\r\n      <div className=\"container\">\r\n        <div className=\"row justify-content-center mt-4\">\r\n          <div className=\"col\">\r\n            <h3 className=\"text-center\"><FontAwesomeIcon icon={faUser} /> Library</h3>\r\n          </div>\r\n        </div>\r\n        <div className=\"row justify-content-center mt-2\" style={{ maxHeight: '400px', overflowY: 'auto' }}>\r\n          {this.props.library.map((item, i) => (\r\n            <SongCard\r\n              type={\"audience\"}\r\n              name={item.name}\r\n              artist={item.artist}\r\n              genre={item.genre}\r\n              hash={item.hash}\r\n              songID={item.songID}\r\n\r\n              artist_names={item.artist_name}\r\n              publisherName={item.publisher_name}\r\n              key={i} />\r\n          ))}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nclass Store extends React.Component {\r\n  render() {\r\n    const filteredStoreSongs = this.props.store.filter((song) =>\r\n      song.name.toLowerCase().includes(this.props.searchTerm.toLowerCase())\r\n    );\r\n    return (\r\n      <div className=\"container\">\r\n        <div className=\"row justify-content-center mt-4\">\r\n          <div className=\"col\">\r\n            <h3 className=\"text-center\"><FontAwesomeIcon icon={faStore} /> Store</h3>\r\n          </div>\r\n        </div>\r\n        <div className=\"row justify-content-center mt-2\">\r\n          <div className=\"col-md-6\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              placeholder=\"Search songs...\"\r\n              value={this.props.searchTerm}\r\n              onChange={(e) => this.props.setSearchTerm(e.target.value)}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"row justify-content-center mt-2\" style={{ maxHeight: '400px', overflowY: 'auto' }}>\r\n          {filteredStoreSongs.length > 0 ? (\r\n            filteredStoreSongs.map((item, i) => (\r\n              <SongCard\r\n                contract={this.props.contract}\r\n                ipfs={this.props.ipfs}\r\n                account={this.props.account}\r\n                type={\"shop\"}\r\n                name={item.name}\r\n                artist={item.artist}\r\n                genre={item.genre}\r\n                cost={item.cost}\r\n                hash={item.hash}\r\n                songID={item.songID}\r\n                artist_names={item.artist_name}\r\n                publisherName={item.publisher_name}\r\n                key={i} />\r\n            ))\r\n          ) : (\r\n            <p className=\"text-center\">No songs available to purchase.</p>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nclass CommercialEntity extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.web3 = new Web3(Web3.givenProvider || \"http://localhost:7545\")\r\n    this.state = { name: \"\", commercialID: \"\", store: [], library: [], songsMapping: {}, currentPage: 'library', searchTerm: \"\" }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.loadStore().then(() => {\r\n      console.log(\"Loaded Store\");\r\n      this.loadCommercialDetails().then(() => {\r\n        console.log(\"Loaded Commercial's Details\");\r\n        this.loadSongDetails().then(() => {\r\n          console.log(\"Loaded Songs\");\r\n        });\r\n      });\r\n    });\r\n  }\r\n\r\n  async loadStore() {\r\n    try {\r\n      const contractInstance = await this.props.contract.deployed();\r\n      console.log(\"Personal Contract Instance: \", this.props.contract)\r\n      const count = await contractInstance.getNumSongs({ from: this.props.account });\r\n      const totalSongs = parseInt(count.toString()) + 1;\r\n      console.log(\"Total songs:\", totalSongs);\r\n\r\n      let mapping = {};\r\n      for (let i = 1; i <= totalSongs; i++) {\r\n        mapping[i] = 0;\r\n      }\r\n      console.log(mapping);\r\n      this.setState({\r\n        songsMapping: mapping\r\n      });\r\n    } catch (error) {\r\n      console.error(\"Error loading store:\", error);\r\n    }\r\n  }\r\n  async getArtistName(artistID) {\r\n    try {\r\n      const contractInstance = await this.props.contract.deployed();\r\n      // console.log('getArtistName call');\r\n\r\n      // Correctly pass the artistID to the smart contract function\r\n      const getArtistName = await contractInstance.getArtistNameByID(artistID, { from: this.props.account });\r\n      console.log('artistID is\\n', artistID);\r\n\r\n      console.log('getArtistName', getArtistName);\r\n      return getArtistName; // Assuming the function returns the artistName directly\r\n    } catch (error) {\r\n      console.error('getArtistName Error:', error);\r\n      return ''; // Return an empty string or handle the error as needed\r\n    }\r\n  }\r\n\r\n  async getPublisherName(publisherID) {\r\n    try {\r\n      const contractInstance = await this.props.contract.deployed();\r\n      // console.log('getPublisherName call');\r\n      // Correctly pass the publisherID to the smart contract function\r\n      const getPublisherName = await contractInstance.getPublisherNameByID(publisherID, { from: this.props.account });\r\n      console.log('publisherID is\\n', publisherID)\r\n\r\n      console.log('getPublisherName', getPublisherName)\r\n      return getPublisherName; // Assuming the function returns the publisherName directly\r\n    } catch (error) {\r\n      console.error('getPublisherName Error:', error);\r\n      return ''; // Return an empty string or handle the error as needed\r\n    }\r\n  }\r\n\r\n\r\n  async loadCommercialDetails() {\r\n    try {\r\n      const contractInstance = await this.props.contract.deployed();\r\n      const CommercialDetails = await contractInstance.getCommercialDetails({ from: this.props.account });\r\n      console.log(\"personal Details\", CommercialDetails)\r\n      let mapping = this.state.songsMapping;\r\n      console.log(CommercialDetails[3].length)\r\n      for (let i = 0; i < CommercialDetails[3].length; i++) {\r\n        mapping[parseInt(CommercialDetails[3][i].toString())] = 1;\r\n      }\r\n      this.setState({\r\n        name: CommercialDetails[2].toString(),\r\n        commercialID: CommercialDetails[0].toString(),\r\n        songsMapping: mapping\r\n      });\r\n    } catch (error) {\r\n      console.error(\"Error loading audience details:\", error);\r\n    }\r\n  }\r\n\r\n  async loadSongDetails() {\r\n    try {\r\n      const contractInstance = await this.props.contract.deployed();\r\n      let n = Object.keys(this.state.songsMapping).length;\r\n      let newSongs = [];\r\n      let purchasedSongs = [];\r\n\r\n      for (let i = 1; i <= n; i++) {\r\n        let songDetails = await contractInstance.getSongDetails(i, { from: this.props.account });\r\n        console.log(\"Song Details:\", songDetails); // Debugging line\r\n        // Extract the artist ID from songDetails[8] and convert it to a string if necessary\r\n        let artistIDString = songDetails[8].toString();\r\n        console.log('artistIDString\\n', artistIDString);\r\n\r\n        let artistIDArray = artistIDString.split(',').map(Number);\r\n        console.log('artistIDArray\\n', artistIDArray, '\\n', typeof artistIDArray);\r\n\r\n        let artistNames = [];\r\n        for (let i = 0; i < artistIDArray.length; i++) {\r\n          console.log('Artist ID:', artistIDArray[i]);\r\n          let artistName = await contractInstance.getArtistNameByID(artistIDArray[i], { from: this.props.account });\r\n          console.log('Artist name fetched:', artistName);\r\n          artistNames.push(artistName);\r\n        }\r\n        // Extract the publisher ID from songDetails[1] and convert it to a string if necessary\r\n        let publisherID = songDetails[1].toString();\r\n        console.log(\"PublisherID:\\n\", songDetails[1].toString())\r\n        // Call the getPublisherNameByID function to get the publisher name\r\n        let publisherName = await contractInstance.getPublisherNameByID(publisherID, { from: this.props.account });\r\n        console.log('the publisherName is: \\n', publisherName);\r\n\r\n\r\n        if (this.state.songsMapping[i] === 1) {\r\n          purchasedSongs.push({\r\n            'name': songDetails[2].toString(), \r\n            'artist': songDetails[1].toString(), \r\n            'genre': songDetails[7].toString(), \r\n            'hash': songDetails[6].toString(), \r\n            'cost': songDetails[4].toString(), \r\n            'songID': songDetails[0].toString(),            \r\n            'artist_name': artistNames,\r\n            'publisher_name': publisherName,\r\n          });\r\n        } else {\r\n          newSongs.push({\r\n            'name': songDetails[2].toString(), \r\n            'artist': songDetails[1].toString(), \r\n            'genre': songDetails[7].toString(), \r\n            'hash': songDetails[6].toString(), \r\n            'cost': songDetails[4].toString(), \r\n            'songID': songDetails[0].toString(),         \r\n            'artist_name': artistNames,\r\n            'publisher_name': publisherName,\r\n          });\r\n        }\r\n      }\r\n\r\n      this.setState({\r\n        library: purchasedSongs,\r\n        store: newSongs\r\n      });\r\n    } catch (error) {\r\n      console.error(\"Error loading song details:\", error);\r\n    }\r\n  }\r\n  render() {\r\n    const { currentPage } = this.state;\r\n    return (\r\n      <div className=\"container-fluid\">\r\n        <div className=\"row full-height\" style={{ height: '100vh' }}>\r\n          <div className=\"col-2 bg-dark\">\r\n            <div className=\"text-primary mt-5\">\r\n              <h1 className=\"text-white\">\r\n                <FontAwesomeIcon icon={faHive} /> Blockus\r\n              </h1>\r\n            </div>\r\n            <div className=\"row mt-5 px 5\" style={{ marginLeft: '5px', marginRight: '5px' }}>\r\n              <button className=\"btn btn-primary mr-2\" onClick={() => this.setState({ currentPage: 'library' })}>Library</button>\r\n            </div>\r\n            <div className=\"row mt-2\" style={{ marginLeft: '5px', marginRight: '5px' }}>\r\n              <button className=\"btn btn-primary\" onClick={() => this.setState({ currentPage: 'store' })}>Store</button>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-10\">\r\n            {this.state.personalID === \"\" ? (\r\n              <div className=\"row justify-content-center mt-4\">\r\n                <div className=\"col\">\r\n                  <Loader type=\"Bars\" color={COLORS.black} />\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <div>\r\n                <div className=\"row justify-content-center mt-4\">\r\n                  <div className=\"col\">\r\n                    <h2 className=\"text-center\"><FontAwesomeIcon icon={faBriefcase} /> {this.state.name}</h2>\r\n                    <h3 className=\"text-center\">Commercial ID: {this.state.commercialID}</h3>\r\n                  </div>\r\n                </div>\r\n                {currentPage === 'library' ? (\r\n                  <Library library={this.state.library} />\r\n                ) : (\r\n                  <Store\r\n                    store={this.state.store}\r\n                    searchTerm={this.state.searchTerm}\r\n                    setSearchTerm={(searchTerm) => this.setState({ searchTerm })}\r\n                    contract={this.props.contract}\r\n                    ipfs={this.props.ipfs}\r\n                    account={this.props.account}\r\n                  />\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = {\r\n  main: {\r\n    padding: \"3%\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    height: \"110vh\",\r\n    gap: \"5%\",\r\n    background: COLORS.white,\r\n  },\r\n  info: {\r\n    marginBottom: \"20px\",\r\n    textAlign: \"center\",\r\n  },\r\n  library: {\r\n    width: \"90%\",\r\n    padding: \"25px\",\r\n    borderRadius: \"30px\",\r\n    border: \"3px solid\",\r\n    overflow: \"auto\",\r\n    gap: \"10px\",\r\n    boxShadow: \"2px 5px 2px #191919\",\r\n    borderColor: COLORS.black,\r\n    backgroundColor: COLORS.white,\r\n  },\r\n  store: {\r\n    width: \"90%\",\r\n    marginTop: \"20px\",\r\n    padding: \"25px\",\r\n    borderRadius: \"30px\",\r\n    border: \"3px solid\",\r\n    overflow: \"auto\",\r\n    gap: \"10px\",\r\n    boxShadow: \"2px 5px 2px #191919\",\r\n    borderColor: COLORS.black,\r\n    backgroundColor: COLORS.white,\r\n  },\r\n  searchInput: {\r\n    width: \"100%\",\r\n    padding: \"10px\",\r\n    marginBottom: \"10px\",\r\n    borderRadius: \"5px\",\r\n    border: \"1px solid #ccc\",\r\n  },\r\n};\r\n\r\nexport default CommercialEntity;"],"mappings":";AAAA,OAAOA,IAAI,MAAM,MAAM;AACvB,OAAOC,KAAK,MAAM,OAAO;AAEzB,SAASC,MAAM,QAAQ,UAAU;AACjC,OAAOC,QAAQ,MAAM,YAAY;AACjC,OAAOC,MAAM,MAAM,sBAAsB;AACzC,SAASC,eAAe,QAAQ,gCAAgC;AAChE,SAAUC,OAAO,EAAEC,MAAM,EAAEC,WAAW,QAAQ,mCAAmC;AACjF,SAASC,MAAM,QAAQ,oCAAoC;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAE3D,MAAMC,OAAO,SAASX,KAAK,CAACY,SAAS,CAAC;EACpCC,MAAMA,CAAA,EAAG;IACP,oBACEH,OAAA;MAAKI,SAAS,EAAC,WAAW;MAAAC,QAAA,gBACxBL,OAAA;QAAKI,SAAS,EAAC,iCAAiC;QAAAC,QAAA,eAC9CL,OAAA;UAAKI,SAAS,EAAC,KAAK;UAAAC,QAAA,eAClBL,OAAA;YAAII,SAAS,EAAC,aAAa;YAAAC,QAAA,gBAACL,OAAA,CAACN,eAAe;cAACY,IAAI,EAAEV;YAAO;cAAAW,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,YAAQ;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACvE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eACNV,OAAA;QAAKI,SAAS,EAAC,iCAAiC;QAACO,KAAK,EAAE;UAAEC,SAAS,EAAE,OAAO;UAAEC,SAAS,EAAE;QAAO,CAAE;QAAAR,QAAA,EAC/F,IAAI,CAACS,KAAK,CAACC,OAAO,CAACC,GAAG,CAAC,CAACC,IAAI,EAAEC,CAAC,kBAC9BlB,OAAA,CAACR,QAAQ;UACP2B,IAAI,EAAE,UAAW;UACjBC,IAAI,EAAEH,IAAI,CAACG,IAAK;UAChBC,MAAM,EAAEJ,IAAI,CAACI,MAAO;UACpBC,KAAK,EAAEL,IAAI,CAACK,KAAM;UAClBC,IAAI,EAAEN,IAAI,CAACM,IAAK;UAChBC,MAAM,EAAEP,IAAI,CAACO,MAAO;UAEpBC,YAAY,EAAER,IAAI,CAACS,WAAY;UAC/BC,aAAa,EAAEV,IAAI,CAACW;QAAe,GAC9BV,CAAC;UAAAX,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CACZ;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAEV;AACF;AAEA,MAAMmB,KAAK,SAASvC,KAAK,CAACY,SAAS,CAAC;EAClCC,MAAMA,CAAA,EAAG;IACP,MAAM2B,kBAAkB,GAAG,IAAI,CAAChB,KAAK,CAACiB,KAAK,CAACC,MAAM,CAAEC,IAAI,IACtDA,IAAI,CAACb,IAAI,CAACc,WAAW,CAAC,CAAC,CAACC,QAAQ,CAAC,IAAI,CAACrB,KAAK,CAACsB,UAAU,CAACF,WAAW,CAAC,CAAC,CACtE,CAAC;IACD,oBACElC,OAAA;MAAKI,SAAS,EAAC,WAAW;MAAAC,QAAA,gBACxBL,OAAA;QAAKI,SAAS,EAAC,iCAAiC;QAAAC,QAAA,eAC9CL,OAAA;UAAKI,SAAS,EAAC,KAAK;UAAAC,QAAA,eAClBL,OAAA;YAAII,SAAS,EAAC,aAAa;YAAAC,QAAA,gBAACL,OAAA,CAACN,eAAe;cAACY,IAAI,EAAEX;YAAQ;cAAAY,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,UAAM;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACtE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eACNV,OAAA;QAAKI,SAAS,EAAC,iCAAiC;QAAAC,QAAA,eAC9CL,OAAA;UAAKI,SAAS,EAAC,UAAU;UAAAC,QAAA,eACvBL,OAAA;YACEmB,IAAI,EAAC,MAAM;YACXf,SAAS,EAAC,cAAc;YACxBiC,WAAW,EAAC,iBAAiB;YAC7BC,KAAK,EAAE,IAAI,CAACxB,KAAK,CAACsB,UAAW;YAC7BG,QAAQ,EAAGC,CAAC,IAAK,IAAI,CAAC1B,KAAK,CAAC2B,aAAa,CAACD,CAAC,CAACE,MAAM,CAACJ,KAAK;UAAE;YAAA/B,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC3D;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eACNV,OAAA;QAAKI,SAAS,EAAC,iCAAiC;QAACO,KAAK,EAAE;UAAEC,SAAS,EAAE,OAAO;UAAEC,SAAS,EAAE;QAAO,CAAE;QAAAR,QAAA,EAC/FyB,kBAAkB,CAACa,MAAM,GAAG,CAAC,GAC5Bb,kBAAkB,CAACd,GAAG,CAAC,CAACC,IAAI,EAAEC,CAAC,kBAC7BlB,OAAA,CAACR,QAAQ;UACPoD,QAAQ,EAAE,IAAI,CAAC9B,KAAK,CAAC8B,QAAS;UAC9BC,IAAI,EAAE,IAAI,CAAC/B,KAAK,CAAC+B,IAAK;UACtBC,OAAO,EAAE,IAAI,CAAChC,KAAK,CAACgC,OAAQ;UAC5B3B,IAAI,EAAE,MAAO;UACbC,IAAI,EAAEH,IAAI,CAACG,IAAK;UAChBC,MAAM,EAAEJ,IAAI,CAACI,MAAO;UACpBC,KAAK,EAAEL,IAAI,CAACK,KAAM;UAClByB,IAAI,EAAE9B,IAAI,CAAC8B,IAAK;UAChBxB,IAAI,EAAEN,IAAI,CAACM,IAAK;UAChBC,MAAM,EAAEP,IAAI,CAACO,MAAO;UACpBC,YAAY,EAAER,IAAI,CAACS,WAAY;UAC/BC,aAAa,EAAEV,IAAI,CAACW;QAAe,GAC9BV,CAAC;UAAAX,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CACZ,CAAC,gBAEFV,OAAA;UAAGI,SAAS,EAAC,aAAa;UAAAC,QAAA,EAAC;QAA+B;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG;MAC9D;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAEV;AACF;AAEA,MAAMsC,gBAAgB,SAAS1D,KAAK,CAACY,SAAS,CAAC;EAC7C+C,WAAWA,CAACnC,KAAK,EAAE;IACjB,KAAK,CAACA,KAAK,CAAC;IACZ,IAAI,CAACoC,IAAI,GAAG,IAAI7D,IAAI,CAACA,IAAI,CAAC8D,aAAa,IAAI,uBAAuB,CAAC;IACnE,IAAI,CAACC,KAAK,GAAG;MAAEhC,IAAI,EAAE,EAAE;MAAEiC,YAAY,EAAE,EAAE;MAAEtB,KAAK,EAAE,EAAE;MAAEhB,OAAO,EAAE,EAAE;MAAEuC,YAAY,EAAE,CAAC,CAAC;MAAEC,WAAW,EAAE,SAAS;MAAEnB,UAAU,EAAE;IAAG,CAAC;EAC/H;EAEAoB,iBAAiBA,CAAA,EAAG;IAClB,IAAI,CAACC,SAAS,CAAC,CAAC,CAACC,IAAI,CAAC,MAAM;MAC1BC,OAAO,CAACC,GAAG,CAAC,cAAc,CAAC;MAC3B,IAAI,CAACC,qBAAqB,CAAC,CAAC,CAACH,IAAI,CAAC,MAAM;QACtCC,OAAO,CAACC,GAAG,CAAC,6BAA6B,CAAC;QAC1C,IAAI,CAACE,eAAe,CAAC,CAAC,CAACJ,IAAI,CAAC,MAAM;UAChCC,OAAO,CAACC,GAAG,CAAC,cAAc,CAAC;QAC7B,CAAC,CAAC;MACJ,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;EAEA,MAAMH,SAASA,CAAA,EAAG;IAChB,IAAI;MACF,MAAMM,gBAAgB,GAAG,MAAM,IAAI,CAACjD,KAAK,CAAC8B,QAAQ,CAACoB,QAAQ,CAAC,CAAC;MAC7DL,OAAO,CAACC,GAAG,CAAC,8BAA8B,EAAE,IAAI,CAAC9C,KAAK,CAAC8B,QAAQ,CAAC;MAChE,MAAMqB,KAAK,GAAG,MAAMF,gBAAgB,CAACG,WAAW,CAAC;QAAEC,IAAI,EAAE,IAAI,CAACrD,KAAK,CAACgC;MAAQ,CAAC,CAAC;MAC9E,MAAMsB,UAAU,GAAGC,QAAQ,CAACJ,KAAK,CAACK,QAAQ,CAAC,CAAC,CAAC,GAAG,CAAC;MACjDX,OAAO,CAACC,GAAG,CAAC,cAAc,EAAEQ,UAAU,CAAC;MAEvC,IAAIG,OAAO,GAAG,CAAC,CAAC;MAChB,KAAK,IAAIrD,CAAC,GAAG,CAAC,EAAEA,CAAC,IAAIkD,UAAU,EAAElD,CAAC,EAAE,EAAE;QACpCqD,OAAO,CAACrD,CAAC,CAAC,GAAG,CAAC;MAChB;MACAyC,OAAO,CAACC,GAAG,CAACW,OAAO,CAAC;MACpB,IAAI,CAACC,QAAQ,CAAC;QACZlB,YAAY,EAAEiB;MAChB,CAAC,CAAC;IACJ,CAAC,CAAC,OAAOE,KAAK,EAAE;MACdd,OAAO,CAACc,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;IAC9C;EACF;EACA,MAAMC,aAAaA,CAACC,QAAQ,EAAE;IAC5B,IAAI;MACF,MAAMZ,gBAAgB,GAAG,MAAM,IAAI,CAACjD,KAAK,CAAC8B,QAAQ,CAACoB,QAAQ,CAAC,CAAC;MAC7D;;MAEA;MACA,MAAMU,aAAa,GAAG,MAAMX,gBAAgB,CAACa,iBAAiB,CAACD,QAAQ,EAAE;QAAER,IAAI,EAAE,IAAI,CAACrD,KAAK,CAACgC;MAAQ,CAAC,CAAC;MACtGa,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEe,QAAQ,CAAC;MAEtChB,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEc,aAAa,CAAC;MAC3C,OAAOA,aAAa,CAAC,CAAC;IACxB,CAAC,CAAC,OAAOD,KAAK,EAAE;MACdd,OAAO,CAACc,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;MAC5C,OAAO,EAAE,CAAC,CAAC;IACb;EACF;EAEA,MAAMI,gBAAgBA,CAACC,WAAW,EAAE;IAClC,IAAI;MACF,MAAMf,gBAAgB,GAAG,MAAM,IAAI,CAACjD,KAAK,CAAC8B,QAAQ,CAACoB,QAAQ,CAAC,CAAC;MAC7D;MACA;MACA,MAAMa,gBAAgB,GAAG,MAAMd,gBAAgB,CAACgB,oBAAoB,CAACD,WAAW,EAAE;QAAEX,IAAI,EAAE,IAAI,CAACrD,KAAK,CAACgC;MAAQ,CAAC,CAAC;MAC/Ga,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAEkB,WAAW,CAAC;MAE5CnB,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAEiB,gBAAgB,CAAC;MACjD,OAAOA,gBAAgB,CAAC,CAAC;IAC3B,CAAC,CAAC,OAAOJ,KAAK,EAAE;MACdd,OAAO,CAACc,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;MAC/C,OAAO,EAAE,CAAC,CAAC;IACb;EACF;EAGA,MAAMZ,qBAAqBA,CAAA,EAAG;IAC5B,IAAI;MACF,MAAME,gBAAgB,GAAG,MAAM,IAAI,CAACjD,KAAK,CAAC8B,QAAQ,CAACoB,QAAQ,CAAC,CAAC;MAC7D,MAAMgB,iBAAiB,GAAG,MAAMjB,gBAAgB,CAACkB,oBAAoB,CAAC;QAAEd,IAAI,EAAE,IAAI,CAACrD,KAAK,CAACgC;MAAQ,CAAC,CAAC;MACnGa,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAEoB,iBAAiB,CAAC;MAClD,IAAIT,OAAO,GAAG,IAAI,CAACnB,KAAK,CAACE,YAAY;MACrCK,OAAO,CAACC,GAAG,CAACoB,iBAAiB,CAAC,CAAC,CAAC,CAACrC,MAAM,CAAC;MACxC,KAAK,IAAIzB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG8D,iBAAiB,CAAC,CAAC,CAAC,CAACrC,MAAM,EAAEzB,CAAC,EAAE,EAAE;QACpDqD,OAAO,CAACF,QAAQ,CAACW,iBAAiB,CAAC,CAAC,CAAC,CAAC9D,CAAC,CAAC,CAACoD,QAAQ,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC;MAC3D;MACA,IAAI,CAACE,QAAQ,CAAC;QACZpD,IAAI,EAAE4D,iBAAiB,CAAC,CAAC,CAAC,CAACV,QAAQ,CAAC,CAAC;QACrCjB,YAAY,EAAE2B,iBAAiB,CAAC,CAAC,CAAC,CAACV,QAAQ,CAAC,CAAC;QAC7ChB,YAAY,EAAEiB;MAChB,CAAC,CAAC;IACJ,CAAC,CAAC,OAAOE,KAAK,EAAE;MACdd,OAAO,CAACc,KAAK,CAAC,iCAAiC,EAAEA,KAAK,CAAC;IACzD;EACF;EAEA,MAAMX,eAAeA,CAAA,EAAG;IACtB,IAAI;MACF,MAAMC,gBAAgB,GAAG,MAAM,IAAI,CAACjD,KAAK,CAAC8B,QAAQ,CAACoB,QAAQ,CAAC,CAAC;MAC7D,IAAIkB,CAAC,GAAGC,MAAM,CAACC,IAAI,CAAC,IAAI,CAAChC,KAAK,CAACE,YAAY,CAAC,CAACX,MAAM;MACnD,IAAI0C,QAAQ,GAAG,EAAE;MACjB,IAAIC,cAAc,GAAG,EAAE;MAEvB,KAAK,IAAIpE,CAAC,GAAG,CAAC,EAAEA,CAAC,IAAIgE,CAAC,EAAEhE,CAAC,EAAE,EAAE;QAC3B,IAAIqE,WAAW,GAAG,MAAMxB,gBAAgB,CAACyB,cAAc,CAACtE,CAAC,EAAE;UAAEiD,IAAI,EAAE,IAAI,CAACrD,KAAK,CAACgC;QAAQ,CAAC,CAAC;QACxFa,OAAO,CAACC,GAAG,CAAC,eAAe,EAAE2B,WAAW,CAAC,CAAC,CAAC;QAC3C;QACA,IAAIE,cAAc,GAAGF,WAAW,CAAC,CAAC,CAAC,CAACjB,QAAQ,CAAC,CAAC;QAC9CX,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAE6B,cAAc,CAAC;QAE/C,IAAIC,aAAa,GAAGD,cAAc,CAACE,KAAK,CAAC,GAAG,CAAC,CAAC3E,GAAG,CAAC4E,MAAM,CAAC;QACzDjC,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAE8B,aAAa,EAAE,IAAI,EAAE,OAAOA,aAAa,CAAC;QAEzE,IAAIG,WAAW,GAAG,EAAE;QACpB,KAAK,IAAI3E,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGwE,aAAa,CAAC/C,MAAM,EAAEzB,CAAC,EAAE,EAAE;UAC7CyC,OAAO,CAACC,GAAG,CAAC,YAAY,EAAE8B,aAAa,CAACxE,CAAC,CAAC,CAAC;UAC3C,IAAI4E,UAAU,GAAG,MAAM/B,gBAAgB,CAACa,iBAAiB,CAACc,aAAa,CAACxE,CAAC,CAAC,EAAE;YAAEiD,IAAI,EAAE,IAAI,CAACrD,KAAK,CAACgC;UAAQ,CAAC,CAAC;UACzGa,OAAO,CAACC,GAAG,CAAC,sBAAsB,EAAEkC,UAAU,CAAC;UAC/CD,WAAW,CAACE,IAAI,CAACD,UAAU,CAAC;QAC9B;QACA;QACA,IAAIhB,WAAW,GAAGS,WAAW,CAAC,CAAC,CAAC,CAACjB,QAAQ,CAAC,CAAC;QAC3CX,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAAE2B,WAAW,CAAC,CAAC,CAAC,CAACjB,QAAQ,CAAC,CAAC,CAAC;QACxD;QACA,IAAI3C,aAAa,GAAG,MAAMoC,gBAAgB,CAACgB,oBAAoB,CAACD,WAAW,EAAE;UAAEX,IAAI,EAAE,IAAI,CAACrD,KAAK,CAACgC;QAAQ,CAAC,CAAC;QAC1Ga,OAAO,CAACC,GAAG,CAAC,0BAA0B,EAAEjC,aAAa,CAAC;QAGtD,IAAI,IAAI,CAACyB,KAAK,CAACE,YAAY,CAACpC,CAAC,CAAC,KAAK,CAAC,EAAE;UACpCoE,cAAc,CAACS,IAAI,CAAC;YAClB,MAAM,EAAER,WAAW,CAAC,CAAC,CAAC,CAACjB,QAAQ,CAAC,CAAC;YACjC,QAAQ,EAAEiB,WAAW,CAAC,CAAC,CAAC,CAACjB,QAAQ,CAAC,CAAC;YACnC,OAAO,EAAEiB,WAAW,CAAC,CAAC,CAAC,CAACjB,QAAQ,CAAC,CAAC;YAClC,MAAM,EAAEiB,WAAW,CAAC,CAAC,CAAC,CAACjB,QAAQ,CAAC,CAAC;YACjC,MAAM,EAAEiB,WAAW,CAAC,CAAC,CAAC,CAACjB,QAAQ,CAAC,CAAC;YACjC,QAAQ,EAAEiB,WAAW,CAAC,CAAC,CAAC,CAACjB,QAAQ,CAAC,CAAC;YACnC,aAAa,EAAEuB,WAAW;YAC1B,gBAAgB,EAAElE;UACpB,CAAC,CAAC;QACJ,CAAC,MAAM;UACL0D,QAAQ,CAACU,IAAI,CAAC;YACZ,MAAM,EAAER,WAAW,CAAC,CAAC,CAAC,CAACjB,QAAQ,CAAC,CAAC;YACjC,QAAQ,EAAEiB,WAAW,CAAC,CAAC,CAAC,CAACjB,QAAQ,CAAC,CAAC;YACnC,OAAO,EAAEiB,WAAW,CAAC,CAAC,CAAC,CAACjB,QAAQ,CAAC,CAAC;YAClC,MAAM,EAAEiB,WAAW,CAAC,CAAC,CAAC,CAACjB,QAAQ,CAAC,CAAC;YACjC,MAAM,EAAEiB,WAAW,CAAC,CAAC,CAAC,CAACjB,QAAQ,CAAC,CAAC;YACjC,QAAQ,EAAEiB,WAAW,CAAC,CAAC,CAAC,CAACjB,QAAQ,CAAC,CAAC;YACnC,aAAa,EAAEuB,WAAW;YAC1B,gBAAgB,EAAElE;UACpB,CAAC,CAAC;QACJ;MACF;MAEA,IAAI,CAAC6C,QAAQ,CAAC;QACZzD,OAAO,EAAEuE,cAAc;QACvBvD,KAAK,EAAEsD;MACT,CAAC,CAAC;IACJ,CAAC,CAAC,OAAOZ,KAAK,EAAE;MACdd,OAAO,CAACc,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;IACrD;EACF;EACAtE,MAAMA,CAAA,EAAG;IACP,MAAM;MAAEoD;IAAY,CAAC,GAAG,IAAI,CAACH,KAAK;IAClC,oBACEpD,OAAA;MAAKI,SAAS,EAAC,iBAAiB;MAAAC,QAAA,eAC9BL,OAAA;QAAKI,SAAS,EAAC,iBAAiB;QAACO,KAAK,EAAE;UAAEqF,MAAM,EAAE;QAAQ,CAAE;QAAA3F,QAAA,gBAC1DL,OAAA;UAAKI,SAAS,EAAC,eAAe;UAAAC,QAAA,gBAC5BL,OAAA;YAAKI,SAAS,EAAC,mBAAmB;YAAAC,QAAA,eAChCL,OAAA;cAAII,SAAS,EAAC,YAAY;cAAAC,QAAA,gBACxBL,OAAA,CAACN,eAAe;gBAACY,IAAI,EAAER;cAAO;gBAAAS,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,YACnC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACF,CAAC,eACNV,OAAA;YAAKI,SAAS,EAAC,eAAe;YAACO,KAAK,EAAE;cAAEsF,UAAU,EAAE,KAAK;cAAEC,WAAW,EAAE;YAAM,CAAE;YAAA7F,QAAA,eAC9EL,OAAA;cAAQI,SAAS,EAAC,sBAAsB;cAAC+F,OAAO,EAAEA,CAAA,KAAM,IAAI,CAAC3B,QAAQ,CAAC;gBAAEjB,WAAW,EAAE;cAAU,CAAC,CAAE;cAAAlD,QAAA,EAAC;YAAO;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAChH,CAAC,eACNV,OAAA;YAAKI,SAAS,EAAC,UAAU;YAACO,KAAK,EAAE;cAAEsF,UAAU,EAAE,KAAK;cAAEC,WAAW,EAAE;YAAM,CAAE;YAAA7F,QAAA,eACzEL,OAAA;cAAQI,SAAS,EAAC,iBAAiB;cAAC+F,OAAO,EAAEA,CAAA,KAAM,IAAI,CAAC3B,QAAQ,CAAC;gBAAEjB,WAAW,EAAE;cAAQ,CAAC,CAAE;cAAAlD,QAAA,EAAC;YAAK;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACvG,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eACNV,OAAA;UAAKI,SAAS,EAAC,QAAQ;UAAAC,QAAA,EACpB,IAAI,CAAC+C,KAAK,CAACgD,UAAU,KAAK,EAAE,gBAC3BpG,OAAA;YAAKI,SAAS,EAAC,iCAAiC;YAAAC,QAAA,eAC9CL,OAAA;cAAKI,SAAS,EAAC,KAAK;cAAAC,QAAA,eAClBL,OAAA,CAACP,MAAM;gBAAC0B,IAAI,EAAC,MAAM;gBAACkF,KAAK,EAAE9G,MAAM,CAAC+G;cAAM;gBAAA/F,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACxC;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,gBAENV,OAAA;YAAAK,QAAA,gBACEL,OAAA;cAAKI,SAAS,EAAC,iCAAiC;cAAAC,QAAA,eAC9CL,OAAA;gBAAKI,SAAS,EAAC,KAAK;gBAAAC,QAAA,gBAClBL,OAAA;kBAAII,SAAS,EAAC,aAAa;kBAAAC,QAAA,gBAACL,OAAA,CAACN,eAAe;oBAACY,IAAI,EAAET;kBAAY;oBAAAU,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAE,CAAC,KAAC,EAAC,IAAI,CAAC0C,KAAK,CAAChC,IAAI;gBAAA;kBAAAb,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK,CAAC,eACzFV,OAAA;kBAAII,SAAS,EAAC,aAAa;kBAAAC,QAAA,GAAC,iBAAe,EAAC,IAAI,CAAC+C,KAAK,CAACC,YAAY;gBAAA;kBAAA9C,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACtE;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC,EACL6C,WAAW,KAAK,SAAS,gBACxBvD,OAAA,CAACC,OAAO;cAACc,OAAO,EAAE,IAAI,CAACqC,KAAK,CAACrC;YAAQ;cAAAR,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,gBAExCV,OAAA,CAAC6B,KAAK;cACJE,KAAK,EAAE,IAAI,CAACqB,KAAK,CAACrB,KAAM;cACxBK,UAAU,EAAE,IAAI,CAACgB,KAAK,CAAChB,UAAW;cAClCK,aAAa,EAAGL,UAAU,IAAK,IAAI,CAACoC,QAAQ,CAAC;gBAAEpC;cAAW,CAAC,CAAE;cAC7DQ,QAAQ,EAAE,IAAI,CAAC9B,KAAK,CAAC8B,QAAS;cAC9BC,IAAI,EAAE,IAAI,CAAC/B,KAAK,CAAC+B,IAAK;cACtBC,OAAO,EAAE,IAAI,CAAChC,KAAK,CAACgC;YAAQ;cAAAvC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC7B,CACF;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE;QACN;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAEV;AACF;AAEA,MAAM6F,MAAM,GAAG;EACbC,IAAI,EAAE;IACJC,OAAO,EAAE,IAAI;IACbC,OAAO,EAAE,MAAM;IACfC,aAAa,EAAE,QAAQ;IACvBC,cAAc,EAAE,QAAQ;IACxBC,UAAU,EAAE,QAAQ;IACpBb,MAAM,EAAE,OAAO;IACfc,GAAG,EAAE,IAAI;IACTC,UAAU,EAAExH,MAAM,CAACyH;EACrB,CAAC;EACDC,IAAI,EAAE;IACJC,YAAY,EAAE,MAAM;IACpBC,SAAS,EAAE;EACb,CAAC;EACDpG,OAAO,EAAE;IACPqG,KAAK,EAAE,KAAK;IACZX,OAAO,EAAE,MAAM;IACfY,YAAY,EAAE,MAAM;IACpBC,MAAM,EAAE,WAAW;IACnBC,QAAQ,EAAE,MAAM;IAChBT,GAAG,EAAE,MAAM;IACXU,SAAS,EAAE,qBAAqB;IAChCC,WAAW,EAAElI,MAAM,CAAC+G,KAAK;IACzBoB,eAAe,EAAEnI,MAAM,CAACyH;EAC1B,CAAC;EACDjF,KAAK,EAAE;IACLqF,KAAK,EAAE,KAAK;IACZO,SAAS,EAAE,MAAM;IACjBlB,OAAO,EAAE,MAAM;IACfY,YAAY,EAAE,MAAM;IACpBC,MAAM,EAAE,WAAW;IACnBC,QAAQ,EAAE,MAAM;IAChBT,GAAG,EAAE,MAAM;IACXU,SAAS,EAAE,qBAAqB;IAChCC,WAAW,EAAElI,MAAM,CAAC+G,KAAK;IACzBoB,eAAe,EAAEnI,MAAM,CAACyH;EAC1B,CAAC;EACDY,WAAW,EAAE;IACXR,KAAK,EAAE,MAAM;IACbX,OAAO,EAAE,MAAM;IACfS,YAAY,EAAE,MAAM;IACpBG,YAAY,EAAE,KAAK;IACnBC,MAAM,EAAE;EACV;AACF,CAAC;AAED,eAAetE,gBAAgB"},"metadata":{},"sourceType":"module"}